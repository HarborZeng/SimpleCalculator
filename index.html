<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Calculator</title>
    <link href="css/style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<div class="calculator">
    <div class="calc-header">
        <div class="calc-screen"><p id="value">0.</p></div>
    </div>
    <div class="calc-body">
        <ul>
            <li class="calc-btn calc-number" onclick="inputSign(1)">1</li>
            <li class="calc-btn calc-number" onclick="inputSign(2)">2</li>
            <li class="calc-btn calc-number" onclick="inputSign(3)">3</li>
            <li class="calc-btn calc-operator" onclick="inputSign('*')">*</li>
            <li class="calc-btn calc-operator" onclick="inputSign('/')">/</li>
            <li class="calc-btn calc-number" onclick="inputSign(4)">4</li>
            <li class="calc-btn calc-number" onclick="inputSign(5)">5</li>
            <li class="calc-btn calc-number" onclick="inputSign(6)">6</li>
            <li class="calc-btn calc-operator" onclick="inputSign('+')">+</li>
            <li class="calc-btn calc-operator" onclick="inputSign('-')">-</li>
            <li class="calc-btn calc-number" onclick="inputSign(7)">7</li>
            <li class="calc-btn calc-number" onclick="inputSign(8)">8</li>
            <li class="calc-btn calc-number" onclick="inputSign(9)">9</li>
            <li class="calc-btn calc-operator" onclick="inputSign('(')">(</li>
            <li class="calc-btn calc-operator" onclick="inputSign(')')">)</li>
            <li class="calc-btn calc-clear calc-operator" onclick="clearAll()">c</li>
            <li class="calc-btn calc-number" onclick="inputSign(0)">0</li>
            <li class="calc-btn calc-operator" onclick="inputSign('.')">.</li>
            <li class="calc-btn calc-operator" onclick="deleteLastStr()">del</li>
            <li class="calc-btn calc-equal calc-operator" onclick="evaluateInput()">=</li>
        </ul>
    </div>
</div>
<script type="text/javascript">
  var formula = '';
  var result = '';
  var calcScreen = document.getElementById('value');

  function inputSign(number) {
    formula += number;
//				alert(formula);
    calcScreen.innerHTML = formula;
  }

  function evaluateInput() {
    result = '';
    try {
      result = eval(formula);
      calcScreen.innerHTML = result;
    }catch (EvalError){
      calcScreen.innerHTML = "式子有误！";
    }
  }

  function clearAll() {
    formula = '';
    calcScreen.innerHTML = '';
  }

  function deleteLastStr() {
    formula = formula.substr(0, formula.length - 1);
    calcScreen.innerHTML = formula;
  }
</script>
</body>
</html>
